{"version":3,"sources":["../../../../src/elaboration/normalization/syntax/dsl.ts"],"sourcesContent":["import * as NF from \"@yap/elaboration/normalization\";\nimport { Implicitness } from \"@yap/shared/implicitness\";\nimport { OP_ADD, OP_AND, OP_DIV, OP_EQ, OP_GT, OP_GTE, OP_LT, OP_LTE, OP_MUL, OP_NEQ, OP_NOT, OP_OR, OP_SUB, PrimOps } from \"@yap/shared/lib/primitives\";\nimport { NonEmptyArray } from \"fp-ts/NonEmptyArray\";\n\nconst not = (x: NF.Value): NF.Value => {\n\tconst _not = PrimOps[OP_NOT];\n\treturn NF.Constructors.External(OP_NOT, _not.arity, _not.compute, [x]);\n};\n\nconst and = (p: NF.Value, q: NF.Value): NF.Value => {\n\tconst _and = PrimOps[OP_AND];\n\tconst external = NF.Constructors.External(OP_AND, _and.arity, _and.compute, [p, q]);\n\treturn external;\n};\n\nconst or = (p: NF.Value, q: NF.Value): NF.Value => {\n\tconst _or = PrimOps[OP_OR];\n\tconst external = NF.Constructors.External(OP_OR, _or.arity, _or.compute, [p, q]);\n\treturn external;\n};\n\nconst eq = (x: NF.Value, y: NF.Value): NF.Value => {\n\tconst _eq = PrimOps[OP_EQ];\n\treturn NF.Constructors.External(OP_EQ, _eq.arity, _eq.compute, [x, y]);\n};\n\nconst neq = (x: NF.Value, y: NF.Value): NF.Value => {\n\tconst _neq = PrimOps[OP_NEQ];\n\treturn NF.Constructors.External(OP_NEQ, _neq.arity, _neq.compute, [x, y]);\n};\n\nconst lt = (x: NF.Value, y: NF.Value): NF.Value => {\n\tconst _lt = PrimOps[OP_LT];\n\treturn NF.Constructors.External(OP_LT, _lt.arity, _lt.compute, [x, y]);\n};\n\nconst gt = (x: NF.Value, y: NF.Value): NF.Value => {\n\tconst _gt = PrimOps[OP_GT];\n\treturn NF.Constructors.External(OP_GT, _gt.arity, _gt.compute, [x, y]);\n};\n\nconst lte = (x: NF.Value, y: NF.Value): NF.Value => {\n\tconst _lte = PrimOps[OP_LTE];\n\treturn NF.Constructors.External(OP_LTE, _lte.arity, _lte.compute, [x, y]);\n};\n\nconst gte = (x: NF.Value, y: NF.Value): NF.Value => {\n\tconst _gte = PrimOps[OP_GTE];\n\treturn NF.Constructors.External(OP_GTE, _gte.arity, _gte.compute, [x, y]);\n};\n\nconst add = (x: NF.Value, y: NF.Value): NF.Value => {\n\tconst _add = PrimOps[OP_ADD];\n\treturn NF.Constructors.External(OP_ADD, _add.arity, _add.compute, [x, y]);\n};\nconst sub = (x: NF.Value, y: NF.Value): NF.Value => {\n\tconst _sub = PrimOps[OP_SUB];\n\treturn NF.Constructors.External(OP_SUB, _sub.arity, _sub.compute, [x, y]);\n};\nconst mul = (x: NF.Value, y: NF.Value): NF.Value => {\n\tconst _mul = PrimOps[OP_MUL];\n\treturn NF.Constructors.External(OP_MUL, _mul.arity, _mul.compute, [x, y]);\n};\nconst div = (x: NF.Value, y: NF.Value): NF.Value => {\n\tconst _div = PrimOps[OP_DIV];\n\treturn NF.Constructors.External(OP_DIV, _div.arity, _div.compute, [x, y]);\n};\n\nexport const Unop = { not };\nexport const Binop = { and, or, lt, gt, lte, gte, eq, neq, add, sub, mul, div };\n\nexport const Apply = (icit: Implicitness, func: NF.Value, ...args: NonEmptyArray<NF.Value>): NF.Value => {\n\treturn args.reduce((f, a) => NF.Constructors.App(f, a, icit), func);\n};\n"],"mappings":"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","names":[]}