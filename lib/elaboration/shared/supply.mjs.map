{"version":3,"sources":["../../../src/elaboration/shared/supply.ts"],"sourcesContent":["import * as EB from \"@yap/elaboration\";\nimport * as V2 from \"@yap/elaboration/shared/monad.v2\";\n\nconst counts = {\n\tmeta: 0,\n\tvar: 0,\n};\n\nexport const resetSupply = (key: keyof typeof counts) => {\n\tcounts[key] = 0;\n};\n\nexport const freshMeta = function* (lvl: number, ann: EB.NF.Value) {\n\tcounts.meta++;\n\n\tconst m: EB.Meta = { type: \"Meta\", val: counts.meta, lvl };\n\tyield* V2.tell(\"meta\", { meta: m, ann });\n\n\treturn m;\n};\n\nexport const nextCount = () => {\n\tcounts.var++;\n\treturn counts.var;\n};\n"],"mappings":";AACA,YAAY,QAAQ;AAEpB,MAAM,SAAS;AAAA,EACd,MAAM;AAAA,EACN,KAAK;AACN;AAEO,MAAM,cAAc,CAAC,QAA6B;AACxD,SAAO,GAAG,IAAI;AACf;AAEO,MAAM,YAAY,WAAW,KAAa,KAAkB;AAClE,SAAO;AAEP,QAAM,IAAa,EAAE,MAAM,QAAQ,KAAK,OAAO,MAAM,IAAI;AACzD,SAAO,GAAG,KAAK,QAAQ,EAAE,MAAM,GAAG,IAAI,CAAC;AAEvC,SAAO;AACR;AAEO,MAAM,YAAY,MAAM;AAC9B,SAAO;AACP,SAAO,OAAO;AACf;","names":[]}