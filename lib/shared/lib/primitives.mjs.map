{"version":3,"sources":["../../../src/shared/lib/primitives.ts"],"sourcesContent":["\nimport * as NF from \"@yap/elaboration/normalization\"\nimport * as EB from \"@yap/elaboration\"\n\nimport * as Q from \"@yap/shared/modalities/multiplicity\"\nimport * as Lit from \"@yap/shared/literals\"\n\nimport * as Sub from \"@yap/elaboration/unification/substitution\"\nimport { Types } from \"@yap/utils\"\n\nimport { isEqual } from \"lodash\"\n\nexport const defaultContext = () => ({\n    env: [],\n    implicits: [],\n    sigma: {},\n    trace: [],\n    imports: Elaborated(),\n    zonker: Sub.empty,\n    ffi: PrimOps,\n    metas: {},\n} satisfies EB.Context);\n\nexport const Terms = () => ({\n    Type: EB.Constructors.Lit(Lit.Type()),\n    Num: EB.Constructors.Lit(Lit.Atom(\"Num\")),\n    Bool: EB.Constructors.Lit(Lit.Atom(\"Bool\")),\n    String: EB.Constructors.Lit(Lit.Atom(\"String\")),\n    Unit: EB.Constructors.Lit(Lit.Atom(\"Unit\")),\n    \"+\": EB.Constructors.Var({ type: \"Foreign\", name: \"$add\" }),\n    \"-\": EB.Constructors.Var({ type: \"Foreign\", name: \"$sub\" }),\n    \"*\": EB.Constructors.Var({ type: \"Foreign\", name: \"$mul\" }),\n    \"/\": EB.Constructors.Var({ type: \"Foreign\", name: \"$div\" }),\n    \"&&\": EB.Constructors.Var({ type: \"Foreign\", name: \"$and\" }),\n    \"||\": EB.Constructors.Var({ type: \"Foreign\", name: \"$or\" }),\n    \"==\": EB.Constructors.Var({ type: \"Foreign\", name: \"$eq\" }),\n    \"!=\": EB.Constructors.Var({ type: \"Foreign\", name: \"$neq\" }),\n    \"<\": EB.Constructors.Var({ type: \"Foreign\", name: \"$lt\" }),\n    \">\": EB.Constructors.Var({ type: \"Foreign\", name: \"$gt\" }),\n    \"<=\": EB.Constructors.Var({ type: \"Foreign\", name: \"$lte\" }),\n    \">=\": EB.Constructors.Var({ type: \"Foreign\", name: \"$gte\" }),\n    \"%\": EB.Constructors.Var({ type: \"Foreign\", name: \"$mod\" }),\n\n    \"<>\": EB.Constructors.Lit(Lit.Atom(\"<>\")),\n    \"++\": EB.Constructors.Lit(Lit.Atom(\"++\")),\n\n})\n\nexport const NormalForms = {\n    Num: () => NF.Constructors.Lit(Lit.Atom(\"Num\")),\n    Bool: () => NF.Constructors.Lit(Lit.Atom(\"Bool\")),\n    String: () => NF.Constructors.Lit(Lit.Atom(\"String\")),\n    Unit: () => NF.Constructors.Lit(Lit.Atom(\"Unit\")),\n}\n\n\n\n// const BinaryOp = (ty: NF.Value, tm: EB.Term) => NF.Constructors.Pi(\"x\", \"Explicit\", { nf: ty, modalities: modalities() }, {\n//     type: \"Closure\",\n//     ctx: defaultContext(),\n//     term: EB.Constructors.Pi(\"y\", \"Explicit\", modalities(), tm, tm)\n// })\n\nexport const Elaborated: () => EB.Context['imports'] = () => {\n\n\n\n    const PrimTypes: EB.Context['imports'] = {\n        Num: [Terms().Num, NF.Type, []],\n        Bool: [Terms().Bool, NF.Type, []],\n        String: [Terms().String, NF.Type, []],\n        Unit: [Terms().Unit, NF.Type, []],\n        Type: [Terms().Type, NF.Type, []],\n    }\n\n    const dummyContext: EB.Context = {\n        env: [],\n        implicits: [],\n        sigma: {},\n        trace: [],\n        imports: PrimTypes,\n        zonker: Sub.empty,\n        ffi: PrimOps,\n        metas: {},\n    }\n\n    const reflectLiquid = (f: (p: EB.Term, q: EB.Term) => EB.Term) => {\n        const i0 = EB.Constructors.Var({ type: \"Bound\", index: 0 });\n        const i1 = EB.Constructors.Var({ type: \"Bound\", index: 1 });\n        const i2 = EB.Constructors.Var({ type: \"Bound\", index: 2 });\n        return EB.Constructors.Lambda(\"r\", \"Explicit\", EB.DSL.eq(i0, f(i1, i2)), Terms().Num)\n    }\n\n    const mkModal = (base: EB.Term, liquid?: EB.Term) => liquid ? EB.Constructors.Modal(base, { quantity: Q.Many, liquid }) : base;\n\n    const Num_Num_Num = ([r1, r2, r3]: [EB.Term?, EB.Term?, EB.Term?]) => NF.Constructors.Pi(\"x\", \"Explicit\", NormalForms.Num(), {\n        type: \"Closure\",\n        ctx: dummyContext,\n        term: EB.Constructors.Pi(\"y\", \"Explicit\", mkModal(Terms().Num, r2), mkModal(Terms().Num, r3))\n    })\n\n    const Num_Num_Bool = NF.Constructors.Pi(\"x\", \"Explicit\", NormalForms.Num(), {\n        type: \"Closure\",\n        ctx: dummyContext,\n        term: EB.Constructors.Pi(\"y\", \"Explicit\", Terms().Num, Terms().Bool)\n    })\n\n    const Bool_Bool_Bool = NF.Constructors.Pi(\"x\", \"Explicit\", NormalForms.Bool(), {\n        type: \"Closure\",\n        ctx: dummyContext,\n        term: EB.Constructors.Pi(\"y\", \"Explicit\", Terms().Bool, Terms().Bool)\n    })\n\n    const Type_Type_Type = NF.Constructors.Pi(\"x\", \"Explicit\", NF.Type, {\n        type: \"Closure\",\n        ctx: dummyContext,\n        term: EB.Constructors.Pi(\"y\", \"Explicit\", Terms().Type, Terms().Type)\n    })\n\n    return {\n        ...PrimTypes,\n        //\"->\": [Terms()[\"->\"], Type_Type_Type, []],\n        \"+\": [Terms()[\"+\"], Num_Num_Num([, , reflectLiquid(EB.DSL.add)]), []],\n        \"-\": [Terms()[\"-\"], Num_Num_Num([, , reflectLiquid(EB.DSL.sub)]), []],\n        \"*\": [Terms()[\"*\"], Num_Num_Num([, , reflectLiquid(EB.DSL.mul)]), []],\n        \"/\": [Terms()[\"/\"], Num_Num_Num([, , reflectLiquid(EB.DSL.div)]), []],\n        \"&&\": [Terms()[\"&&\"], Bool_Bool_Bool, []],\n        \"||\": [Terms()[\"||\"], Bool_Bool_Bool, []],\n        \"==\": [Terms()[\"==\"], Num_Num_Bool, []],\n        \"!=\": [Terms()[\"!=\"], Num_Num_Bool, []],\n        \"<\": [Terms()[\"<\"], Num_Num_Bool, []],\n        \">\": [Terms()[\">\"], Num_Num_Bool, []],\n        \"<=\": [Terms()[\"<=\"], Num_Num_Bool, []],\n        \">=\": [Terms()[\">=\"], Num_Num_Bool, []],\n        \"%\": [Terms()[\"%\"], Num_Num_Num([]), []],\n\n    }\n}\n\nconst typecheckNum = (val: NF.Value): val is NF.Value & { type: \"Lit\", value: { type: \"Num\", value: number } } => val.type === \"Lit\" && val.value.type === \"Num\"\nconst arithmetic = (x: NF.Value, y: NF.Value, fn: (a: number, b: number) => number): NF.Value => {\n\n    if (!typecheckNum(x)) throw new Error(`Expected number, got ${NF.display(x, { zonker: Sub.empty, metas: {}, env: [] })}`);\n    if (!typecheckNum(y)) throw new Error(`Expected number, got ${NF.display(y, { zonker: Sub.empty, metas: {}, env: [] })}`);\n    const val = fn(x.value.value, y.value.value);\n    return NF.Constructors.Lit(Lit.Num(val));\n}\n\nconst typecheckBool = (val: NF.Value): val is NF.Value & { type: \"Lit\", value: { type: \"Bool\", value: boolean } } => val.type === \"Lit\" && val.value.type === \"Bool\"\n\nconst logical = (x: NF.Value, y: NF.Value, fn: (a: boolean, b: boolean) => boolean): NF.Value => {\n    if (!typecheckBool(x)) throw new Error(`Expected boolean, got ${NF.display(x, { zonker: Sub.empty, metas: {}, env: [] })}`);\n    if (!typecheckBool(y)) throw new Error(`Expected boolean, got ${NF.display(y, { zonker: Sub.empty, metas: {}, env: [] })}`);\n    const val = fn(x.value.value, y.value.value);\n    return NF.Constructors.Lit(Lit.Bool(val));\n}\n\nconst comparison = (x: NF.Value, y: NF.Value, fn: (a: number, b: number) => boolean): NF.Value => {\n    if (!typecheckNum(x)) throw new Error(`Expected number, got ${NF.display(x, { zonker: Sub.empty, metas: {}, env: [] })}`);\n    if (!typecheckNum(y)) throw new Error(`Expected number, got ${NF.display(y, { zonker: Sub.empty, metas: {}, env: [] })}`);\n    const val = fn(x.value.value, y.value.value);\n    return NF.Constructors.Lit(Lit.Bool(val));\n}\n\nexport const FFI = {\n    Indexed: (index: unknown) => (value: unknown) => (strat: unknown) => ({ index, value, strat }),\n    defaultHashMap: \"<Placeholder> default_hash_map\",\n    defaultArray: \"<Placeholder> default_array\",\n    $add: (x: any) => (y: any) => x + y,\n    $sub: (x: any) => (y: any) => x - y,\n    $mul: (x: any) => (y: any) => x * y,\n    $div: (x: any) => (y: any) => x / y,\n    $and: (x: any) => (y: any) => x && y,\n    $or: (x: any) => (y: any) => x || y,\n    $eq: (x: any) => (y: any) => x == y,\n    $neq: (x: any) => (y: any) => x != y,\n    $lt: (x: any) => (y: any) => x < y,\n    $gt: (x: any) => (y: any) => x > y,\n    $lte: (x: any) => (y: any) => x <= y,\n    $gte: (x: any) => (y: any) => x >= y,\n\n}\n\nexport const PrimOps: EB.Context['ffi'] = {\n    $add: { arity: 2, compute: (x: NF.Value, y: NF.Value) => arithmetic(x, y, (a, b) => a + b) },\n    $sub: { arity: 2, compute: (x: NF.Value, y: NF.Value) => arithmetic(x, y, (a, b) => a - b) },\n    $mul: { arity: 2, compute: (x: NF.Value, y: NF.Value) => arithmetic(x, y, (a, b) => a * b) },\n    $div: { arity: 2, compute: (x: NF.Value, y: NF.Value) => arithmetic(x, y, (a, b) => a / b) },\n    $and: { arity: 2, compute: (x: NF.Value, y: NF.Value) => logical(x, y, (a, b) => a && b) },\n    $or: { arity: 2, compute: (x: NF.Value, y: NF.Value) => logical(x, y, (a, b) => a || b) },\n    $eq: { arity: 2, compute: (x: NF.Value, y: NF.Value) => NF.Constructors.Lit(Lit.Bool(isEqual(x, y))) },\n    $neq: { arity: 2, compute: (x: NF.Value, y: NF.Value) => NF.Constructors.Lit(Lit.Bool(!isEqual(x, y))) },\n    $lt: { arity: 2, compute: (x: NF.Value, y: NF.Value) => comparison(x, y, (a, b) => a < b) },\n    $gt: { arity: 2, compute: (x: NF.Value, y: NF.Value) => comparison(x, y, (a, b) => a > b) },\n    $lte: { arity: 2, compute: (x: NF.Value, y: NF.Value) => comparison(x, y, (a, b) => a <= b) },\n    $gte: { arity: 2, compute: (x: NF.Value, y: NF.Value) => comparison(x, y, (a, b) => a >= b) },\n    $not: {\n        arity: 1, compute: (x: NF.Value) => {\n            if (!typecheckBool(x)) throw new Error(`Expected boolean, got ${NF.display(x, { zonker: Sub.empty, metas: {}, env: [] })}`);\n            return NF.Constructors.Lit(Lit.Bool(!x.value.value));\n        }\n    }\n\n}\n\n\nexport const OP_AND = \"$and\" as const;\nexport const OP_OR = \"$or\" as const;\nexport const OP_EQ = \"$eq\" as const;\nexport const OP_NEQ = \"$neq\" as const;\nexport const OP_LT = \"$lt\" as const;\nexport const OP_GT = \"$gt\" as const;\nexport const OP_LTE = \"$lte\" as const;\nexport const OP_GTE = \"$gte\" as const;\nexport const OP_NOT = \"$not\" as const;\n\nexport const OP_ADD = \"$add\" as const;\nexport const OP_SUB = \"$sub\" as const;\nexport const OP_MUL = \"$mul\" as const;\nexport const OP_DIV = \"$div\" as const;\n\n\nexport const operatorMap: Record<string, string> = {\n    [OP_AND]: \"&&\",\n    [OP_OR]: \"||\",\n    [OP_EQ]: \"==\",\n    [OP_NEQ]: \"!=\",\n    [OP_LT]: \"<\",\n    [OP_GT]: \">\",\n    [OP_LTE]: \"<=\",\n    [OP_GTE]: \">=\",\n    [OP_NOT]: \"!\",\n\n    [OP_ADD]: \"+\",\n    [OP_SUB]: \"-\",\n    [OP_MUL]: \"*\",\n    [OP_DIV]: \"/\",\n\n}"],"mappings":"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","names":[]}