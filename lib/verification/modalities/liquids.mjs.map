{"version":3,"sources":["../../../src/verification/modalities/liquids.ts"],"sourcesContent":["import * as EB from \"@yap/elaboration\";\nimport * as NF from \"@yap/elaboration/normalization\";\n\nimport * as Q from \"@yap/shared/modalities/multiplicity\";\nimport * as Lit from \"@yap/shared/literals\";\nimport * as Sub from \"@yap/elaboration/unification/substitution\";\n\nimport * as Modal from \"@yap/verification/modalities/shared\";\nimport { Context } from \"z3-solver\";\nimport { defaultContext } from \"@yap/shared/lib/primitives\";\n\nconst tru = () => NF.Constructors.Lit({ type: \"Bool\", value: true });\nconst fls = () => NF.Constructors.Lit({ type: \"Bool\", value: false });\n\nexport const Constants = { tru, fls };\n\nlet count = 0;\nconst fresh = () => {\n\t++count;\n\treturn `$r${count}`;\n};\nexport const Predicate = {\n\tKind: (ctx: EB.Context, arg: NF.Value) => NF.Constructors.Pi(fresh(), \"Explicit\", arg, NF.closeVal(ctx, NF.Constructors.Lit(Lit.Atom(\"Bool\")))),\n\tNeutral: (ann: EB.Term) => {\n\t\treturn EB.Constructors.Lambda(fresh(), \"Explicit\", EB.Constructors.Lit({ type: \"Bool\", value: true }), ann);\n\t},\n\n\tNeutralNF: (ann: NF.Value, ctx: EB.Context) => {\n\t\tconst closure = NF.Constructors.Closure(ctx, EB.Constructors.Lit(Lit.Bool(true)));\n\t\treturn NF.Constructors.Lambda(fresh(), \"Explicit\", closure, ann);\n\t},\n\n\tTrue: (Z3: Context<\"main\">) => Z3.Bool.val(true),\n};\n"],"mappings":";AAAA,YAAY,QAAQ;AACpB,YAAY,QAAQ;AAGpB,YAAY,SAAS;AAOrB,MAAM,MAAM,MAAM,GAAG,aAAa,IAAI,EAAE,MAAM,QAAQ,OAAO,KAAK,CAAC;AACnE,MAAM,MAAM,MAAM,GAAG,aAAa,IAAI,EAAE,MAAM,QAAQ,OAAO,MAAM,CAAC;AAE7D,MAAM,YAAY,EAAE,KAAK,IAAI;AAEpC,IAAI,QAAQ;AACZ,MAAM,QAAQ,MAAM;AACnB,IAAE;AACF,SAAO,KAAK,KAAK;AAClB;AACO,MAAM,YAAY;AAAA,EACxB,MAAM,CAAC,KAAiB,QAAkB,GAAG,aAAa,GAAG,MAAM,GAAG,YAAY,KAAK,GAAG,SAAS,KAAK,GAAG,aAAa,IAAI,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC;AAAA,EAC9I,SAAS,CAAC,QAAiB;AAC1B,WAAO,GAAG,aAAa,OAAO,MAAM,GAAG,YAAY,GAAG,aAAa,IAAI,EAAE,MAAM,QAAQ,OAAO,KAAK,CAAC,GAAG,GAAG;AAAA,EAC3G;AAAA,EAEA,WAAW,CAAC,KAAe,QAAoB;AAC9C,UAAM,UAAU,GAAG,aAAa,QAAQ,KAAK,GAAG,aAAa,IAAI,IAAI,KAAK,IAAI,CAAC,CAAC;AAChF,WAAO,GAAG,aAAa,OAAO,MAAM,GAAG,YAAY,SAAS,GAAG;AAAA,EAChE;AAAA,EAEA,MAAM,CAAC,OAAwB,GAAG,KAAK,IAAI,IAAI;AAChD;","names":[]}